<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8"/>
    <!-- metadata -->
    <meta name="generator" content="S5" />
    <meta name="version" content="S5 1.1" />
    <meta name="presdate" content="20091207" />
    <meta name="author" content="源馬 照明" />
    <meta name="company" content="名古屋大学大学院多元数理科学研究科" />
    <!-- configuration parameters -->
    <meta name="defaultView" content="slideshow" />
    <meta name="controlVis" content="hidden" />
    <title>Webブラウザと融合するインスタントメッセンジャー「むすび」</title>
    <!-- style sheet links -->
    <link rel="stylesheet" href="pixel/slides.css" type="text/css" media="projection" id="slideProj" />
    <link rel="stylesheet" href="ui/default/outline.css" type="text/css" media="screen" id="outlineStyle" />
    <link rel="stylesheet" href="ui/default/print.css" type="text/css" media="print" id="slidePrint" />
    <link rel="stylesheet" href="ui/default/opera.css" type="text/css" media="projection" id="operaFix" />
    <!-- embedded styles -->
    <style type="text/css" media="all">
    </style>
    <!-- S5 JS -->
    <script src="ui/default/slides.js" type="text/javascript"></script>
  </head>
<body>
<div class="layout">
  <div id="controls"><!-- DO NOT EDIT --></div>
  <div id="currentSlide"><!-- DO NOT EDIT --></div>
  <div id="header"></div>
  <div id="footer">
    <h1>Webブラウザと融合するインスタントメッセンジャー「むすび」</h1>
    <h2>源馬照明, Jacques Garrigue &#8226; 2009年12月7日</h2>
  </div>
</div>
<div class="presentation">

<div class="slide">
  <h1>Webブラウザと融合する<br/>インスタントメッセンジャー「むすび」</h1>
  <h3>源馬照明, Jacques Garrigue</h3>
  <h4><a href="http://www.math.nagoya-u.ac.jp/">名古屋大学大学院多元数理科学研究科</a></h4>
</div>

<div class="slide">
  <h1>「むすび」とは</h1>
  <ul>
    <li>Firefoxブラウザがインスタントメッセンジャーになるアドオン</li>
    <li>インターネットでリアルタイムコミュニケーション</li>
  </ul>
</div>

<div class="slide">
  <h1>チャット</h1>
  <ul>
    <li>テキストをメッセージ
  </ul>
  <a href="chat.png"><img src="chat.png"/></a>
  <h2>HTMLで作れます</h2>
</div>

<div class="slide">
  <h1>ホワイトボード</h1>
  <ul>
    <li>画像データをメッセージ
  </ul>
  <a href="whiteboard.png"><img src="whiteboard.png" height="400"/></a>
  <h2>HTMLで作れます</h2>
</div>

<div class="slide">
  <h1>チェス</h1>
  <ul>
    <li>棋譜データをメッセージ
  </ul>
  <a href="chess.png"><img src="chess.png" height="400"/></a>
  <h2>HTMLで作れます</h2>
</div>

<div class="slide">
  <h1>ECサイト</h1>
  <ul>
    <li>商品データをメッセージ
  </ul>
  <a href="shop.png"><img src="shop.png" height="400"/></a>
  <h2>HTMLで作れます</h2>
</div>

<div class="slide">
  <h1>ブログ</h1>
  <ul>
    <li>HTMLだから、ブログに組み込める。
  </ul>
  <a href="blog.png"><img src="blog.png" height="400"/></a>
  <h2>Googleガジェット</h2>
</div>

<div class="slide">
  <h1>ブラウザと融合 - HTML</h1>
  <p>JavascriptのAPI</p>
  <ul>
    <li><code>Musubi.init(recv)</code> 初期化(受信処理関数)
    <li><code>Musubi.send(<br/>
&nbsp;&nbsp;&lt;message&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;こんにちは&lt;/body&gt;<br/>
&nbsp;&nbsp;&lt;/message&gt;<br/>
)</code>
  </ul>
</div>

<div class="slide">
  <h1>ブラウザと融合 - URI</h1>
  <ul>
    <li><a href="xmpp:teruakigemma@gmail.com">xmpp:teruakigemma@gmail.com</a>
    <li>cf. <a href="mailto:teruakigemma@gmail.com">mailto:teruakigemma@gmail.com</a>
  </ul>
  <br />
  <a href="xmppuri.png"><img src="xmppuri.png"/></a><br/>
  <p>人をリンク、ブックマークできる。</p>
</div>

<div class="slide">
  <h1>デモ</h1>
  <ul>
    <li><a href="demo091207.wmv">動画(2分間)</a></li>
  </ul>
</div>

<div class="slide">
  <h1>Firefoxアドオン</h1>
  <ul>
    <li>Win,Mac,Linuxに完全対応
    <li>インストールは3クリック
    <li>ローカルファイル読み書き、ソケット通信などできる
      <ul><li>アドオンだけに許された特権で、Webページからは触れない</li></ul>
    </li>
    <li>Java, .NETのようなプラットフォーム
      <ul>
        <li>GUI部品</li>
        <li>内蔵データベース</li>
        <li>HTML、Javascript、CSS、XML、DOM</li>
        <li>Web技術の結晶</li>
      </ul>
    </li>
  </ul>
</div>

<div class="slide">
  <h1>むすびの設計(1/2)</h1>
  <ul>
    <li>HTMLに新しいAPI</li>
    <li>新しいURI xmpp:</li>
    <li>HTTPと新しいプロトコル XMPP</li>
    <li>コード行数は2300行
      <ul>
        <li>Firefoxアドオンのおかげ</li>
      </ul>
    </li>
  </ul>
</div>

<div class="slide">
  <h1>むすびの設計(2/2)</h1>
  <p>アーキテクチャ</p>
  <img src="archi.png"/>
</div>

<div class="slide">
  <h1>HTTPの限界</h1>
  <p>HTTPではチャットは作れない</p>
  <img class="right" src="grass.jpg"/>
  <ul>
    <li>プルはあるが
    <li>プッシュがない
    <li>サーバが更新してもブラウザに伝えられない
    <li>ブラウザがポーリングするのが精一杯
  </ul>
</div>

<div class="slide">
  <h1>HTTPの限界を越えるComet(しかし…)</h1>
  <p>HTTPでチャットを実現するハック</p>
  <ul>
    <li>ブラウザごとに対応がマチマチ
    <li>サーバに負担
    <li>通信に無駄が多い</li>
  </ul>
</div>

<div class="slide">
  <h1>むすびの設計(再掲)</h1>
  <p>アーキテクチャ</p>
  <img src="archi.png"/>
</div>


<div class="slide">
  <h1>XMPP(1/4)</h1>
  <p>Extensible(拡張性のある) Messaging(メッセージと) and Presence(プレゼンス) Protocol(プロトコル)</p>
  <ul>
    <li>インスタントメッセージ
    <li>プレゼンス(オンライン、離席中、etc)
    <li>多人数チャット
    <li>音声&amp;ビデオ電話
    <li>協調作業
    <li>コンテンツ・シンジケーション
    <li>XMLデータの一般化ルーティング
  </ul>
</div>

<div class="slide">
  <h1>XMPP(2/4)</h1>
  <ul>
    <li>オープン(仕様が公開されている)
    <li>スタンダード(IETFが標準化、RFC3920)
    <li>分散(電子メールのように、誰でもサーバを立てられる)
    <li>セキュア(エンド・ツー・エンドの暗号化(SASL, TLS))
    <li>拡張性(XML)
  </ul>
</div>

<div class="slide">
  <h1>XMPP(3/4)</h1>
  <ul>
    <li>プロフィール設定(vCards)
    <li>ファイル交換
    <li>友達管理(承認、ブロック、etc)
    <li>ルーム管理(招待、キック、プライベートルーム、etc)
  </ul>
  <p>XMPPの仕様に既にある</p>
</div>

<div class="slide">
  <h1>XMPP(4/4)</h1>
  <ul>
    <li>Google Talkが使っている
    <li>Google Waveも使っている
  </ul>
  <p>むすびはGoogleのアカウントで今すぐ使える</p>
</div>

<div class="slide">
  <h1>比較 Google Talk</h1>
  <p>Googleのインスタントメッセンジャー</p>
  <ul>
    <li>テキストのみ。
      <ul><li>むすびはWebページでコミュニケーションできる</li></ul>
    </li>
    <li>シェアが低い(100万人?)
  </ul>
</div>

<div class="slide">
  <h1>比較 Google Wave</h1>
  <p>Googleが5月末に発表したコラボレーション、コミュニケーションのためのプラットフォーム</p>
  <ul>
    <li>ブラウザで動く
    <li>チャットやドキュメントの共同編集
    <li>遅い、頻繁にクラッシュする、バグが多いとの意見も
    <li>ブラウザでコミュニケーションという未知の可能性
  </ul>
</div>

<div class="slide">
  <h1>比較 Skype</h1>
  <p>VoIPの代名詞</p>
  <ul>
    <li>大きなシェア(1億人)
    <li>音声・ビデオチャット
    <li>非公開プロトコル
  </ul>
</div>

<div class="slide">
  <h1>比較 SOBA</h1>
  <ul>
    <li>P2P、高いセキュリティ、高品質なネット会議
    <li>音声・ビデオ
      <ul><li>ブラウザがそこまで追いついていない</li></ul>
    </li>
    <li>デスクトップアプリケーション共有
      <ul><li>ブラウザでは不可能</li></ul>
    </li>
    <li>充実したサポート体制
    <li>SOBA Web APIに興味津々</li>
  </ul>
</div>

<div class="slide">
  <h1>Web OSの夢(1/5)</h1>
  <p><small>ここ5年くらい、いくつかのWebサービスを組み合わせて新しいものを作るという、マッシュアップがさかんです。Webサービス同士の糊になるのは何だろう? と悩んでいたある日、先生と四色定理の話をしていて、問題をグラフに置き換えるというアイディアを教えてもらいました。見方が変われば発想も変わり、私の中に、糊(境界)ではなく対話(辺)という発想が生まれました。</small></p>
  <a href="graph.png"><img src="graph.png" /></a>
</div>

<div class="slide">
  <h1>Web OSの夢(2/5)</h1>
  <p><small>Webサービス同士が対話する。あるいは、人とWebサービス、人と人、が対話する。それなら、人とWebが対話するとは何だろう。</small></p>
  <p><small>人とOSが対話するときに使うのは、対話的シェルです。テキストシェルを、ブラウザ上でハイパーテキストシェルなWebアプリケーションとして実現するために必要なのは何か。こうして、ブラウザとIMとの融合という考えに至りました。</small></p>
  <a href="repl.wmv">インタープリタと対話するデモ(40秒)</a>
</div>

<div class="slide">
  <h1>Web OSの夢(3/5)</h1>
  <ul>
    <li>Unixは、様々なものをファイルとして抽象化している(デバイス、ソケット、プロセス)。</li>
    <li>ファイルの読み書きと、メッセージのやりとりは、等しい。</li>
  </ul>
  <p>
    <a href="ultimate.png"><img src="ultimate.png" height="300"/></a>
    <a href="message.png"><img src="message.png" height="200"/></a>
  </p>
</div>

<div class="slide">
  <h1>Web OSの夢(4/5)</h1>
  <ul>
    <li>Unix : むすび
    <li>端末 : ブラウザ
    <li>C言語 : Javascript
    <li>テキスト : ハイパーテキスト
    <li>行ストリーム : メッセージストリーム
    <li>ファイルシステム : URI
    <li>プロセス : Webサービス
  </ul>
</div>

<div class="slide">
  <h1>Web OSの夢(5/5)</h1>
  <p>むすびに、リダイレクション、パイプを追加しました</p>
  <p>
    <a href="rdr.png"><img src="rdr.png" height="200"/></a>
    <a href="pipe.png"><img src="pipe.png" height="200"/></a>
  </p>
</div>

<div class="slide">
  <h1>これからの課題</h1>
  <ul>
    <li>コミュニケーションツールとして、ユーザ数のクリティカル・マスを越えること
    <li>SOBAのような音声・ビデオ会議機能
  </ul>
</div>

</body>
</html>

